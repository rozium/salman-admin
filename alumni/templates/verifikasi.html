{% extends "base.html" %}

{% block title %}Verifikasi{% endblock %}

{% block static %}
<style type="text/css">
    div#content {
        margin: auto;
        padding-top: 20px;
        width: 95%;
    }
</style>
{% endblock %}

{% block content %}
<div class="verif-content1">

    <h1 style="font-family: Roboto-Black; color: #795547;">Verifikasi Akun</h1>
    <br>
    <table class="verif-table2">
      <tr style="color: white; font-size: 18px;">
        <th style="width: 8%;">No</th>
        <th>Nama Lengkap</th>
        <th>Email</th>
      </tr>

      <!-- Django Loop templates -->
      {% for user in users %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ user.nama }}</td>
            <td>{{ user.email }}</td>
          </tr>
      {% endfor %}
        

    </table>
</div>

<div class="verif-content2">
    <h1 style="font-family: Roboto-Black; color: #795547; text-align: right;" id="verif-nama">---</h1>
    <br>
    <table class="tg" style="table-layout: fixed; width: 100%">
    <colgroup>
    <col style="width: 110px">
    <col style="width: 200px">
    <col style="width: 3px">
    <col style="width: 100px">
    <col style="width: 100px">
    </colgroup>
      <tr>
        <td class="tg-4d50">Jenis Kelamin</td>
        <td class="tg-5xe6" id="verif-gender">-</td>
        <td class="tg-garis"></td>
        <td class="tg-4d50" colspan="2">Aktifitas Yang diikuti</td>
      </tr>
      <tr>
        <td class="tg-4d50">Negara</td>
        <td class="tg-5xe6" id="verif-negara">-</td>
        <td class="tg-garis"></td>
        <td class="tg-5xe6" id="verif-aktifitas-1" colspan="2">-</td>
      </tr>
      <tr>
        <td class="tg-4d50">Kota</td>
        <td class="tg-5xe6" id="verif-kota">-</td>
        <td class="tg-garis"></td>
        <td class="tg-5xe6" id="verif-aktifitas-2" colspan="2">-</td>
      </tr>
      <tr>
        <td class="tg-4d50">No. HP</td>
        <td class="tg-5xe6" id="verif-no_hp">-</td>
        <td class="tg-garis"></td>
        <td class="tg-5xe6" id="verif-aktifitas-3" colspan="2">-</td>
      </tr>
      <tr>
        <td class="tg-4d50">Universitas</td>
        <td class="tg-5xe6" id="verif-univ">-</td>
        <td class="tg-garis"></td>
        <td class="tg-5xe6" id="verif-aktifitas-4" colspan="2">-</td>
      </tr>
      <tr>
        <td class="tg-4d50">Jurusan</td>
        <td class="tg-5xe6" id="verif-jurusan">-</td>
        <td class="tg-garis"></td>
        <td class="tg-4d50">Tahun Aktif</td>
        <td class="tg-jjuf" id="verif-tahun_aktif">-</td>
      </tr>
      <tr>
        <td class="tg-4d50">Angkatan Kuliah</td>
        <td class="tg-5xe6" id="verif-ang_kuliah">-</td>
        <td class="tg-garis"></td>
        <td class="tg-eh2d"></td>
        <td class="tg-eh2d"></td>
      </tr>
      <tr>
        <td class="tg-4d50">Angkatan LMD / SII</td>
        <td class="tg-5xe6" id="verif-ang_LMD">-</td>
        <td class="tg-garis"></td>
        <td class="tg-eh2d"></td>
        <td class="tg-eh2d"></td>
      </tr>
      <tr>
        <td class="tg-4d50">Pekerjaan</td>
        <td class="tg-5xe6" id="verif-pekerjaan-1">-</td>
        <td class="tg-garis"></td>
        <td class="tg-eh2d"></td>
        <td class="tg-eh2d"></td>
      </tr>
      <tr>
        <td class="tg-4d50"></td>
        <td class="tg-5xe6" id="verif-pekerjaan-2">-</td>
        <td class="tg-garis"></td>
        <td class="tg-eh2d"></td>
        <td class="tg-eh2d"></td>
      </tr>
      <tr>
        <td class="tg-4d50"></td>
        <td class="tg-5xe6" id="verif-pekerjaan-3">-</td>
        <td class="tg-garis"></td>
        <td class="tg-eh2d"></td>
        <td class="tg-eh2d"></td>
      </tr>
      <tr>
        <td class="tg-4d50">Nama Instansi</td>
        <td class="tg-5xe6" id="verif-instansi">-</td>
        <td class="tg-garis"></td>
        <td class="tg-eh2d"></td>
        <td class="tg-eh2d"></td>
      </tr>
    </table>
    <button onclick="alert(1)" class="buttonConfirm"><span>Konfirmasi </span></button>
</div>
{% endblock %}

{% block script %}
<script type="text/javascript">
    $(".verif-table2").on("click", "tr", function() {
        var value = $(this).closest('tr').children('td:first').text();
        var users = "{{ usersJSON|safe|escapejs }}";
        
        users = JSON.parse(users);
        users = users[value-1]['fields'];
        
        var nama = users['nama'];
        var gender = users['gender'];
        var negara = users['negara'];
        var kota = users['kota'];
        var no_hp = users['no_hp'];
        var univ = users['univ'];
        var jurusan = users['jurusan'];
        var ang_kuliah = users['ang_kuliah'];
        var ang_LMD = users['ang_LMD'];
        var pekerjaan = users['pekerjaan'];
        var instansi = users['instansi'];
        var aktifitas = users['aktifitas'];
        var tahun_aktif = users['tahun_aktif'];

        $("#verif-nama").text(nama);
        $("#verif-gender").text(gender);
        $("#verif-negara").text(negara);
        $("#verif-kota").text(kota);
        $("#verif-no_hp").text(no_hp);
        $("#verif-univ").text(univ);
        $("#verif-jurusan").text(jurusan);
        $("#verif-ang_kuliah").text(ang_kuliah);
        $("#verif-ang_LMD").text(ang_LMD);
        $("#verif-pekerjaan").text(pekerjaan);
        $("#verif-instansi").text(instansi);
        $("#verif-aktifitas").text(aktifitas);
        $("#verif-tahun_aktif").text(tahun_aktif);

        pekerjaan = JSON.parse(pekerjaan);
        for (var i = 1; i < 3 + 1; i++) {
          $("#verif-pekerjaan-" + i).text('-');
        }
        var i = 1;
        pekerjaan.forEach(function(item) {
          $("#verif-pekerjaan-" + i).text(item);
          i++;
        });

        aktifitas = JSON.parse(aktifitas);
        for (var i = 1; i < 4 + 1; i++) {
          $("#verif-aktifitas-" + i).text('-');
        }
        var i = 1;
        aktifitas.forEach(function(item) {
          $("#verif-aktifitas-" + i).text(item);
          i++;
        });

    });
</script>
{% endblock %}
